<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ø–∑—ã–∫–∏ –†–æ—Å—Å–∏–∏ - –î–û–ë–†–û–í–û–õ–¨–ù–û–ï –û–ë–™–ï–î–ò–ù–ï–ù–ò–ï –°–¢–£–î–ï–ù–¢–û–í –î–õ–Ø –û–ë–†–ê–ó–û–í–ê–ù–ò–Ø</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --russian-white: #FFFFFF;
            --russian-blue: #0039A6;
            --russian-red: #D52B1E;
            --russian-light: #F5F5F5;
            --russian-dark: #1A1A1A;
            --accent-green: #58CC02;
            --accent-orange: #FF9500;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--russian-light) 0%, #E8F4F8 100%);
            padding-top: 70px;
            padding-bottom: 80px;
            min-height: 100vh;
        }
        
        /* –í–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞ —Ç—Ä–∏–∫–æ–ª–æ—Ä–∞ */
        .top-tricolor {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            z-index: 2000;
            background: linear-gradient(to right, 
                var(--russian-white) 33%, 
                var(--russian-blue) 33%, 
                var(--russian-blue) 66%, 
                var(--russian-red) 66%);
        }
        
        .navbar {
            background: var(--russian-white);
            box-shadow: 0 2px 15px rgba(0, 57, 166, 0.1);
            border-bottom: 1px solid #e0e0e0;
        }
        
        .navbar-brand {
            color: var(--russian-dark) !important;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .navbar-subtitle {
            font-size: 0.65rem;
            color: var(--russian-blue);
            font-weight: 500;
            opacity: 0.8;
            line-height: 1.1;
            margin-top: 2px;
            letter-spacing: 0.3px;
        }
        
        .nav-link {
            color: var(--russian-dark) !important;
            font-weight: 500;
        }
        
        .nav-link.active {
            color: var(--russian-blue) !important;
            font-weight: bold;
            position: relative;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 15px;
            right: 15px;
            height: 3px;
            background: linear-gradient(to right, var(--russian-white), var(--russian-blue), var(--russian-red));
            border-radius: 3px 3px 0 0;
        }
        
        .nav-link i {
            font-size: 1.2rem;
            margin-bottom: 3px;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--russian-white);
            box-shadow: 0 -2px 15px rgba(0, 57, 166, 0.1);
            z-index: 1000;
            border-top: 1px solid #e0e0e0;
        }
        
        .bottom-nav .nav-link {
            color: #666 !important;
            transition: all 0.3s;
        }
        
        .bottom-nav .nav-link.active {
            color: var(--russian-blue) !important;
            font-weight: bold;
        }
        
        .bottom-nav .nav-link i {
            color: inherit;
            font-size: 1.4rem;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ —Å—Ç–∏–ª–µ –†–æ—Å—Å–∏–∏ */
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 57, 166, 0.08);
            margin-bottom: 20px;
            transition: all 0.3s ease;
            overflow: hidden;
            background: var(--russian-white);
        }
        
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 57, 166, 0.12);
        }
        
        .card-header {
            background: linear-gradient(135deg, var(--russian-white) 0%, #f8f9fa 100%);
            border-bottom: 2px solid #e9ecef;
            font-weight: 600;
            color: var(--russian-dark);
        }
        
        .russian-gradient {
            background: linear-gradient(135deg, var(--russian-white) 0%, var(--russian-blue) 50%, var(--russian-red) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .progress {
            height: 10px;
            border-radius: 5px;
            background-color: #e9ecef;
        }
        
        .progress-bar {
            background: linear-gradient(to right, var(--russian-blue), var(--accent-green));
            border-radius: 5px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--russian-blue), #1a4da6);
            border: none;
            border-radius: 25px;
            padding: 10px 25px;
            font-weight: 600;
            letter-spacing: 0.3px;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #00287a, var(--russian-blue));
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 57, 166, 0.2);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--accent-green), #4CAF50);
            border: none;
            border-radius: 25px;
            padding: 10px 25px;
            font-weight: 600;
        }
        
        .btn-outline-russian {
            border: 2px solid var(--russian-blue);
            color: var(--russian-blue);
            border-radius: 25px;
            padding: 8px 20px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-outline-russian:hover {
            background: var(--russian-blue);
            color: white;
        }
        
        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ */
        .russian-language-card {
            border-left: 4px solid var(--russian-red);
            position: relative;
        }
        
        .russian-language-card::before {
            content: '‚òÖ';
            position: absolute;
            top: 15px;
            right: 15px;
            color: var(--russian-red);
            font-size: 1.5rem;
        }
        
        .language-card {
            cursor: pointer;
            border-left: 4px solid var(--russian-blue);
        }
        
        .language-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--russian-blue), var(--russian-red));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—Ä–æ–∫–æ–≤ */
        .lesson-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
        }
        
        .lesson-step {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 15px;
            border-left: 3px solid var(--russian-blue);
            animation: fadeIn 0.5s ease-out;
        }
        
        .lesson-step.completed {
            border-left-color: var(--accent-green);
            background: rgba(88, 204, 2, 0.05);
        }
        
        .exercise-option {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }
        
        .exercise-option:hover {
            border-color: var(--russian-blue);
            background: #f8f9fa;
        }
        
        .exercise-option.selected {
            border-color: var(--russian-blue);
            background: rgba(0, 57, 166, 0.05);
        }
        
        .exercise-option.correct {
            background-color: rgba(88, 204, 2, 0.1);
            border-color: var(--accent-green);
            color: #155724;
        }
        
        .exercise-option.wrong {
            background-color: rgba(220, 53, 69, 0.1);
            border-color: #dc3545;
            color: #721c24;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è */
        .stat-card {
            text-align: center;
            padding: 20px;
            border-radius: 12px;
            background: linear-gradient(135deg, #f8f9fa, white);
        }
        
        .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--russian-blue), var(--russian-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .achievement-badge {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.8rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .badge-gold { 
            background: linear-gradient(135deg, #FFD700, #FFA500); 
            color: white; 
        }
        
        .badge-silver { 
            background: linear-gradient(135deg, #C0C0C0, #808080); 
            color: white; 
        }
        
        .badge-bronze { 
            background: linear-gradient(135deg, #CD7F32, #8B4513); 
            color: white; 
        }
        
        .badge-russian { 
            background: linear-gradient(135deg, var(--russian-white), var(--russian-blue), var(--russian-red)); 
            color: white; 
        }
        
        /* –õ–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π */
        .news-item {
            border-bottom: 1px solid #eee;
            padding: 15px 0;
            transition: all 0.3s;
        }
        
        .news-item:hover {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }
        
        .news-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--russian-blue), var(--russian-red));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .news-like {
            color: #dc3545;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .news-like:hover {
            transform: scale(1.2);
        }
        
        .news-like.liked {
            color: #dc3545;
        }
        
        /* –ß–∞—Ç */
        .chat-container {
            height: 400px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9fa, white);
            border-radius: 10px;
        }
        
        .message {
            margin-bottom: 15px;
            max-width: 80%;
            animation: fadeIn 0.3s ease-out;
        }
        
        .message-incoming {
            align-self: flex-start;
        }
        
        .message-outgoing {
            align-self: flex-end;
            margin-left: auto;
        }
        
        .message-bubble {
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .message-incoming .message-bubble {
            background: white;
            border: 1px solid #e0e0e0;
        }
        
        .message-outgoing .message-bubble {
            background: linear-gradient(135deg, var(--russian-blue), #1a4da6);
            color: white;
        }
        
        .message-time {
            font-size: 0.75rem;
            color: #666;
            margin-top: 4px;
        }
        
        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É—Ä–æ–∫–æ–≤ */
        .results-card {
            background: linear-gradient(135deg, #f8f9fa, white);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            animation: fadeIn 0.5s ease-out;
        }
        
        .results-score {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--russian-blue), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
        }
        
        .fireworks {
            font-size: 2rem;
            animation: pulse 1s infinite;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            .bottom-nav .nav-link i {
                font-size: 1.2rem;
            }
            
            .bottom-nav .small {
                font-size: 0.7rem;
            }
            
            .navbar-brand {
                font-size: 1rem;
            }
            
            .navbar-subtitle {
                font-size: 0.6rem;
            }
            
            .message {
                max-width: 90%;
            }
            
            .stat-number {
                font-size: 1.8rem;
            }
            
            .navbar-brand img {
                height: 35px !important;
                margin-right: 8px !important;
            }
        }
        
        /* –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--russian-blue), var(--russian-red));
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #00287a, #b22222);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞ */
        .navbar-brand img {
            transition: transform 0.3s ease;
        }
        
        .navbar-brand img:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞ —Ç—Ä–∏–∫–æ–ª–æ—Ä–∞ -->
    <div class="top-tricolor"></div>
    
    <!-- –í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#" onclick="switchScreen('home')">
                <!-- –í–∞—à –ª–æ–≥–æ—Ç–∏–ø -->
               <img src="https://i.yapx.ru/cWX91.png" 
                     alt="–õ–æ–≥–æ—Ç–∏–ø –Ø–∑—ã–∫–∏ –†–æ—Å—Å–∏–∏" 
                     class="me-3"
                     style="height: 45px; width: auto; max-width: 45px; object-fit: contain; border-radius: 4px;">
                
                <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div>
                    <div style="font-weight: 700; font-size: 1.1rem; color: var(--russian-dark); line-height: 1.1;">
                       MonoMax - –£—á–∏ —Ä–æ–¥–Ω–æ–µ!
                    </div>
                    <div class="navbar-subtitle">–î–û–ë–†–û–í–û–õ–¨–ù–û–ï –û–ë–™–ï–î–ò–ù–ï–ù–ò–ï –°–¢–£–î–ï–ù–¢–û–í –î–õ–Ø –û–ë–†–ê–ó–û–í–ê–ù–ò–Ø</div>
                </div>
            </a>
            <div class="d-flex align-items-center">
                <span class="badge bg-warning me-3" id="streak-counter">
                    <i class="bi bi-fire"></i> <span id="streak-days">7</span>
                </span>
                <span class="badge bg-light text-dark" id="xp-counter">
                    <i class="bi bi-trophy"></i> <span id="xp-total">325</span> XP
                </span>
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container mt-3" id="content">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="home-screen">
            <div class="card mb-4">
                <div class="card-body">
                    <h4 class="card-title russian-gradient mb-3">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h4>
                    <p class="text-muted mb-4">–ò–∑—É—á–∞–π—Ç–µ —è–∑—ã–∫–∏ –Ω–∞—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏ –≤–º–µ—Å—Ç–µ —Å –Ω–∞—à–∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º</p>
                    
                    <div class="row align-items-center mb-4">
                        <div class="col-md-8">
                            <h5 class="mb-2">–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–µ–≥–æ–¥–Ω—è</h5>
                            <div class="progress mb-2">
                                <div class="progress-bar" id="daily-progress" style="width: 66%"></div>
                            </div>
                            <p class="text-muted mb-0" id="daily-stats">2/3 —É—Ä–æ–∫–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</p>
                        </div>
                        <div class="col-md-4 text-end">
                            <button class="btn btn-primary" onclick="switchScreen('learn')">
                                <i class="bi bi-arrow-right"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —è–∑—ã–∫–∞–º -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="card russian-language-card" onclick="startLearningRussian()">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="language-icon me-3">–†–£</div>
                                        <div class="flex-grow-1">
                                            <h5 class="mb-1">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</h5>
                                            <p class="text-muted mb-2">–ö–∞–∫ –≤—Ç–æ—Ä–æ–π —Ä–æ–¥–Ω–æ–π</p>
                                            <div class="d-flex justify-content-between">
                                                <span class="badge bg-danger">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è</span>
                                                <small class="text-muted">15 —É—Ä–æ–∫–æ–≤</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="card language-card" onclick="startLearningTatar()">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="language-icon me-3">–¢–ê</div>
                                        <div class="flex-grow-1">
                                            <h5 class="mb-1">–¢–∞—Ç–∞—Ä—Å–∫–∏–π</h5>
                                            <p class="text-muted mb-2">–ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å</p>
                                            <div class="d-flex justify-content-between">
                                                <span class="badge bg-success">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</span>
                                                <small class="text-muted">65% –æ—Å–≤–æ–µ–Ω–æ</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-number" id="total-lessons">12</div>
                                <small>—É—Ä–æ–∫–æ–≤</small>
                            </div>
                        </div>
                        <div class="col-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-number" id="total-words">187</div>
                                <small>—Å–ª–æ–≤</small>
                            </div>
                        </div>
                        <div class="col-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-number" id="streak-current">7</div>
                                <small>–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</small>
                            </div>
                        </div>
                        <div class="col-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-number" id="total-languages">3</div>
                                <small>—è–∑—ã–∫–∞</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∏–∑—É—á–µ–Ω–∏—è -->
        <div id="learn-screen" style="display: none;">
            <div class="card mb-3">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h4 class="card-title mb-1" id="current-language-title">–¢–∞—Ç–∞—Ä—Å–∫–∏–π —è–∑—ã–∫</h4>
                            <p class="text-muted mb-0" id="current-lesson-title">–£—Ä–æ–∫ 3: –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã</p>
                        </div>
                        <div class="text-end">
                            <div class="progress mb-1" style="width: 150px;">
                                <div class="progress-bar" id="lesson-progress" style="width: 45%"></div>
                            </div>
                            <small class="text-muted" id="lesson-progress-text">–®–∞–≥ 2/5</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É—Ä–æ–∫–∞ -->
            <div id="lesson-container">
                <!-- –£—Ä–æ–∫ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è —É—Ä–æ–∫–∞ -->
            <div class="card" id="lesson-navigation" style="display: none;">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-outline-russian" onclick="previousStep()" id="prev-btn">
                            <i class="bi bi-arrow-left"></i> –ù–∞–∑–∞–¥
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="next-btn">
                            –î–∞–ª–µ–µ <i class="bi bi-arrow-right"></i>
                        </button>
                        <button class="btn btn-success" onclick="completeLesson()" id="complete-btn" style="display: none;">
                            <i class="bi bi-check-circle"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —è–∑—ã–∫–æ–≤ -->
        <div id="languages-screen" style="display: none;">
            <div class="card mb-4">
                <div class="card-body">
                    <h4 class="card-title russian-gradient mb-3">–Ø–∑—ã–∫–∏ –Ω–∞—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏</h4>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <input type="text" class="form-control search-box" placeholder="–ü–æ–∏—Å–∫ —è–∑—ã–∫–æ–≤..." id="searchInput">
                        </div>
                        <div class="col-md-6">
                            <select class="form-select" id="familyFilter" onchange="filterLanguages()">
                                <option value="all">–í—Å–µ —è–∑—ã–∫–æ–≤—ã–µ —Å–µ–º—å–∏</option>
                                <option value="–†—É—Å—Å–∫–∏–π">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</option>
                                <option value="–¢—é—Ä–∫—Å–∫–∏–µ">–¢—é—Ä–∫—Å–∫–∏–µ —è–∑—ã–∫–∏</option>
                                <option value="–£—Ä–∞–ª—å—Å–∫–∏–µ">–£—Ä–∞–ª—å—Å–∫–∏–µ —è–∑—ã–∫–∏</option>
                                <option value="–ö–∞–≤–∫–∞–∑—Å–∫–∏–µ">–ö–∞–≤–∫–∞–∑—Å–∫–∏–µ —è–∑—ã–∫–∏</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="stat-card">
                                <div class="stat-number">150+</div>
                                <small>—è–∑—ã–∫–æ–≤ –†–æ—Å—Å–∏–∏</small>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="stat-card">
                                <div class="stat-number">35</div>
                                <small>–∏–º–µ—é—Ç –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç—å</small>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="stat-card">
                                <div class="stat-number">7</div>
                                <small>—è–∑—ã–∫–æ–≤—ã—Ö —Å–µ–º–µ–π</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="languages-list">
                <!-- –Ø–∑—ã–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- –õ–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π -->
        <div id="news-screen" style="display: none;">
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">–õ–µ–Ω—Ç–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h5>
                </div>
                <div class="card-body">
                    <!-- –ù–æ–≤–æ—Å—Ç–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>

        <!-- –ß–∞—Ç -->
        <div id="chat-screen" style="display: none;">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title mb-4">–°–æ–æ–±—â–µ–Ω–∏—è</h5>
                    <!-- –ß–∞—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
        <div id="profile-screen" style="display: none;">
            <!-- –ü—Ä–æ—Ñ–∏–ª—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="bottom-nav">
        <div class="container">
            <div class="row py-2">
                <div class="col text-center">
                    <a href="#" class="nav-link active" onclick="switchScreen('home')">
                        <i class="bi bi-house"></i>
                        <div class="small">–ì–ª–∞–≤–Ω–∞—è</div>
                    </a>
                </div>
                <div class="col text-center">
                    <a href="#" class="nav-link" onclick="switchScreen('learn')">
                        <i class="bi bi-journal-bookmark"></i>
                        <div class="small">–û–±—É—á–µ–Ω–∏–µ</div>
                    </a>
                </div>
                <div class="col text-center">
                    <a href="#" class="nav-link" onclick="switchScreen('languages')">
                        <i class="bi bi-translate"></i>
                        <div class="small">–Ø–∑—ã–∫–∏</div>
                    </a>
                </div>
                <div class="col text-center">
                    <a href="#" class="nav-link" onclick="switchScreen('news')">
                        <i class="bi bi-newspaper"></i>
                        <div class="small">–õ–µ–Ω—Ç–∞</div>
                    </a>
                </div>
                <div class="col text-center">
                    <a href="#" class="nav-link" onclick="switchScreen('profile')">
                        <i class="bi bi-person"></i>
                        <div class="small">–ü—Ä–æ—Ñ–∏–ª—å</div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div class="modal fade" id="resultsModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center p-5">
                    <div class="fireworks mb-3">üéâ üéä üéâ</div>
                    <h4 class="mb-3">–£—Ä–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω!</h4>
                    <div class="results-score" id="final-score">95%</div>
                    <p class="text-muted mb-4" id="results-message">–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ —É—Ä–æ–∫.</p>
                    <div class="row mb-4">
                        <div class="col-6">
                            <div class="stat-card">
                                <div class="stat-number" id="correct-answers">4</div>
                                <small>–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card">
                                <div class="stat-number" id="xp-earned">50</div>
                                <small>XP –ø–æ–ª—É—á–µ–Ω–æ</small>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary w-100" data-bs-dismiss="modal" onclick="switchScreen('home')">
                        <i class="bi bi-house"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const appData = {
            currentUser: {
                name: '–ê–ª–µ–∫—Å–µ–π –ü–µ—Ç—Ä–æ–≤',
                avatar: '–ê–ü',
                level: 3,
                xp: 325,
                streak: 7,
                lessons: 12,
                words: 187,
                languages: 3,
                bio: '–°—Ç—É–¥–µ–Ω—Ç, –∏–∑—É—á–∞—é —è–∑—ã–∫–∏ –Ω–∞—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏'
            },
            
            currentLesson: null,
            currentStep: 0,
            lessonAnswers: [],
            lessonScore: 0
        };

        // –î–∞–Ω–Ω—ã–µ —è–∑—ã–∫–æ–≤
        const languages = [
            {
                id: 'russian',
                name: '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫',
                nativeName: '—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫',
                family: '–†—É—Å—Å–∫–∏–π',
                speakers: '258M',
                region: '–†–æ—Å—Å–∏—è, –°–ù–ì',
                difficulty: '—Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏',
                color: '#D52B1E',
                description: '–ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ –∫–∞–∫ –≤—Ç–æ—Ä–æ–≥–æ —Ä–æ–¥–Ω–æ–≥–æ —è–∑—ã–∫–∞',
                lessons: 15,
                recommended: true
            },
            { id: 'tatar', name: '–¢–∞—Ç–∞—Ä—Å–∫–∏–π', nativeName: '—Ç–∞—Ç–∞—Ä —Ç–µ–ª–µ', family: '–¢—é—Ä–∫—Å–∫–∏–µ', speakers: '5.4M', region: '–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω', difficulty: '—Å—Ä–µ–¥–Ω–∏–π', color: '#0039A6', lessons: 12 },
            { id: 'bashkir', name: '–ë–∞—à–∫–∏—Ä—Å–∫–∏–π', nativeName: '–±–∞—à“°–æ—Ä—Ç —Ç–µ–ª–µ', family: '–¢—é—Ä–∫—Å–∫–∏–µ', speakers: '1.2M', region: '–ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω', difficulty: '—Å—Ä–µ–¥–Ω–∏–π', color: '#4CAF50', lessons: 10 },
            { id: 'chuvash', name: '–ß—É–≤–∞—à—Å–∫–∏–π', nativeName: '—á”ë–≤–∞—à —á”ó–ª—Ö–∏', family: '–¢—é—Ä–∫—Å–∫–∏–µ', speakers: '1M', region: '–ß—É–≤–∞—à–∏—è', difficulty: '—Å—Ä–µ–¥–Ω–∏–π', color: '#FF9800', lessons: 10 },
            { id: 'chechen', name: '–ß–µ—á–µ–Ω—Å–∫–∏–π', nativeName: '–Ω–æ—Ö—á–∏–π–Ω –º–æ—Ç—Ç', family: '–ö–∞–≤–∫–∞–∑—Å–∫–∏–µ', speakers: '1.4M', region: '–ß–µ—á–Ω—è', difficulty: '—Å–ª–æ–∂–Ω—ã–π', color: '#795548', lessons: 8 },
            { id: 'mari', name: '–ú–∞—Ä–∏–π—Å–∫–∏–π', nativeName: '–º–∞—Ä–∏–π –π—ã–ª–º–µ', family: '–£—Ä–∞–ª—å—Å–∫–∏–µ', speakers: '388K', region: '–ú–∞—Ä–∏–π –≠–ª', difficulty: '—Å—Ä–µ–¥–Ω–∏–π', color: '#9C27B0', lessons: 8 },
            { id: 'udmurt', name: '–£–¥–º—É—Ä—Ç—Å–∫–∏–π', nativeName: '—É–¥–º—É—Ä—Ç –∫—ã–ª', family: '–£—Ä–∞–ª—å—Å–∫–∏–µ', speakers: '324K', region: '–£–¥–º—É—Ä—Ç–∏—è', difficulty: '—Å—Ä–µ–¥–Ω–∏–π', color: '#2196F3', lessons: 8 },
            { id: 'komi', name: '–ö–æ–º–∏', nativeName: '–∫–æ–º–∏ –∫—ã–≤', family: '–£—Ä–∞–ª—å—Å–∫–∏–µ', speakers: '160K', region: '–ö–æ–º–∏', difficulty: '—Å—Ä–µ–¥–Ω–∏–π', color: '#009688', lessons: 8 },
            { id: 'yakut', name: '–Ø–∫—É—Ç—Å–∫–∏–π', nativeName: '—Å–∞—Ö–∞ —Ç—ã–ª–∞', family: '–¢—é—Ä–∫—Å–∫–∏–µ', speakers: '450K', region: '–Ø–∫—É—Ç–∏—è', difficulty: '—Å–ª–æ–∂–Ω—ã–π', color: '#607D8B', lessons: 6 }
        ];

        // –£—Ä–æ–∫–∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
        const russianLessons = [
            {
                id: 'russian-1',
                title: '–ë–∞–∑–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è',
                steps: [
                    {
                        type: 'instruction',
                        title: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ',
                        content: '–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ'
                    },
                    {
                        type: 'vocabulary',
                        title: '–°–ª–æ–≤–∞—Ä—å',
                        content: '–ó–∞–ø–æ–º–Ω–∏—Ç–µ —ç—Ç–∏ —Å–ª–æ–≤–∞:',
                        words: [
                            { russian: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', translation: 'Hello (formal)' },
                            { russian: '–ü—Ä–∏–≤–µ—Ç', translation: 'Hi (informal)' },
                            { russian: '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ', translation: 'Good morning' },
                            { russian: '–î–æ–±—Ä—ã–π –¥–µ–Ω—å', translation: 'Good afternoon' },
                            { russian: '–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä', translation: 'Good evening' }
                        ]
                    },
                    {
                        type: 'exercise',
                        title: '–ü—Ä–∞–∫—Ç–∏–∫–∞',
                        question: '–ö–∞–∫ —Å–∫–∞–∑–∞—Ç—å "Good morning" –ø–æ-—Ä—É—Å—Å–∫–∏?',
                        options: ['–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ', '–ü—Ä–∏–≤–µ—Ç', '–î–æ–±—Ä—ã–π –¥–µ–Ω—å'],
                        correct: 1
                    },
                    {
                        type: 'exercise',
                        title: '–ü—Ä–∞–∫—Ç–∏–∫–∞',
                        question: '–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:',
                        options: ['–ü—Ä–∏–≤–µ—Ç', '–ó–¥–æ—Ä–æ–≤–æ', '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', '–î–æ–±—Ä—ã–π'],
                        correct: 2
                    },
                    {
                        type: 'completion',
                        title: '–ú–æ–ª–æ–¥–µ—Ü!',
                        content: '–í—ã –∏–∑—É—á–∏–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ'
                    }
                ]
            },
            {
                id: 'russian-2',
                title: '–û—Å–Ω–æ–≤–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã',
                steps: [
                    {
                        type: 'instruction',
                        title: '–ì–ª–∞–≥–æ–ª—ã',
                        content: '–ò–∑—É—á–∏—Ç–µ —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã –≤ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ'
                    },
                    {
                        type: 'vocabulary',
                        title: '–°–ª–æ–≤–∞—Ä—å',
                        content: '–û—Å–Ω–æ–≤–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã:',
                        words: [
                            { russian: '–±—ã—Ç—å', translation: 'to be' },
                            { russian: '–¥–µ–ª–∞—Ç—å', translation: 'to do' },
                            { russian: '–≥–æ–≤–æ—Ä–∏—Ç—å', translation: 'to speak' },
                            { russian: '–ø–æ–Ω–∏–º–∞—Ç—å', translation: 'to understand' },
                            { russian: '–∑–Ω–∞—Ç—å', translation: 'to know' }
                        ]
                    },
                    {
                        type: 'exercise',
                        title: '–ü—Ä–∞–∫—Ç–∏–∫–∞',
                        question: '–ö–∞–∫–æ–π –≥–ª–∞–≥–æ–ª –æ–∑–Ω–∞—á–∞–µ—Ç "to understand"?',
                        options: ['–≥–æ–≤–æ—Ä–∏—Ç—å', '–ø–æ–Ω–∏–º–∞—Ç—å', '–¥–µ–ª–∞—Ç—å', '–∑–Ω–∞—Ç—å'],
                        correct: 1
                    }
                ]
            }
        ];

        // –£—Ä–æ–∫–∏ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
        const tatarLessons = [
            {
                id: 'tatar-1',
                title: '–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã',
                steps: [
                    {
                        type: 'instruction',
                        title: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞ —Ç–∞—Ç–∞—Ä—Å–∫–æ–º',
                        content: '–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –æ–±—â–µ–Ω–∏—è –Ω–∞ —Ç–∞—Ç–∞—Ä—Å–∫–æ–º —è–∑—ã–∫–µ'
                    },
                    {
                        type: 'vocabulary',
                        title: '–°–ª–æ–≤–∞—Ä—å',
                        content: '–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã:',
                        words: [
                            { russian: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', tatar: '–°”ô–ª–∞–º' },
                            { russian: '–°–ø–∞—Å–∏–±–æ', tatar: '–†”ô—Ö–º”ô—Ç' },
                            { russian: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞', tatar: '–ó–∏–Ω“ª–∞—Ä' },
                            { russian: '–ö–∞–∫ –¥–µ–ª–∞?', tatar: '–ù–∏—á–µ–∫ —è—à–∏—Å–µ–∑?' },
                            { russian: '–•–æ—Ä–æ—à–æ', tatar: '–Ø—Ö—à—ã' }
                        ]
                    },
                    {
                        type: 'exercise',
                        title: '–ü—Ä–∞–∫—Ç–∏–∫–∞',
                        question: '–ö–∞–∫ —Å–∫–∞–∑–∞—Ç—å "–°–ø–∞—Å–∏–±–æ" –ø–æ-—Ç–∞—Ç–∞—Ä—Å–∫–∏?',
                        options: ['–°”ô–ª–∞–º', '–†”ô—Ö–º”ô—Ç', '–ó–∏–Ω“ª–∞—Ä', '–Ø—Ö—à—ã'],
                        correct: 1
                    },
                    {
                        type: 'exercise',
                        title: '–ü—Ä–∞–∫—Ç–∏–∫–∞',
                        question: '–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–°”ô–ª–∞–º"?',
                        options: ['–°–ø–∞—Å–∏–±–æ', '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞', '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', '–•–æ—Ä–æ—à–æ'],
                        correct: 2
                    },
                    {
                        type: 'conversation',
                        title: '–î–∏–∞–ª–æ–≥',
                        content: '–°–æ—Å—Ç–∞–≤—å—Ç–µ –¥–∏–∞–ª–æ–≥, –∏—Å–ø–æ–ª—å–∑—É—è –∏–∑—É—á–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã',
                        dialog: [
                            { speaker: 'A', text: '–°”ô–ª–∞–º!' },
                            { speaker: 'B', text: '–°”ô–ª–∞–º! –ù–∏—á–µ–∫ —è—à–∏—Å–µ–∑?' },
                            { speaker: 'A', text: '–Ø—Ö—à—ã, —Ä”ô—Ö–º”ô—Ç!' }
                        ]
                    }
                ]
            }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            updateUserInterface();
            updateGreeting();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω
            loadLanguages();
            loadNewsFeed();
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUserInterface() {
            const user = appData.currentUser;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            document.getElementById('streak-days').textContent = user.streak;
            document.getElementById('xp-total').textContent = user.xp;
            document.getElementById('total-lessons').textContent = user.lessons;
            document.getElementById('total-words').textContent = user.words;
            document.getElementById('streak-current').textContent = user.streak;
            document.getElementById('total-languages').textContent = user.languages;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            const progress = (user.lessons % 3) + 1;
            document.getElementById('daily-progress').style.width = `${(progress / 3) * 100}%`;
            document.getElementById('daily-stats').textContent = `${progress}/3 —É—Ä–æ–∫–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
        function updateGreeting() {
            const hour = new Date().getHours();
            let greeting;
            
            if (hour >= 5 && hour < 12) greeting = '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ';
            else if (hour >= 12 && hour < 18) greeting = '–î–æ–±—Ä—ã–π –¥–µ–Ω—å';
            else if (hour >= 18 && hour < 23) greeting = '–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä';
            else greeting = '–î–æ–±—Ä–æ–π –Ω–æ—á–∏';
            
            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤
        function switchScreen(screen) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('[id$="-screen"]').forEach(el => {
                el.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω
            document.getElementById(`${screen}-screen`).style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.querySelectorAll('.bottom-nav .nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —ç–∫—Ä–∞–Ω–∞
            switch(screen) {
                case 'languages':
                    loadLanguages();
                    break;
                case 'news':
                    loadNewsFeed();
                    break;
                case 'chat':
                    loadChat();
                    break;
                case 'profile':
                    loadProfile();
                    break;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —è–∑—ã–∫–æ–≤
        function loadLanguages(filter = 'all', search = '') {
            const container = document.getElementById('languages-list');
            container.innerHTML = '';
            
            const filtered = languages.filter(lang => {
                const matchesFilter = filter === 'all' || lang.family === filter;
                const matchesSearch = search === '' || 
                    lang.name.toLowerCase().includes(search.toLowerCase()) ||
                    lang.nativeName.toLowerCase().includes(search.toLowerCase());
                return matchesFilter && matchesSearch;
            });
            
            filtered.forEach(lang => {
                const col = document.createElement('div');
                col.className = 'col-md-6 mb-3';
                col.innerHTML = `
                    <div class="card ${lang.recommended ? 'russian-language-card' : 'language-card'} h-100" onclick="selectLanguage('${lang.id}')">
                        <div class="card-body">
                            <div class="d-flex align-items-start mb-3">
                                <div class="language-icon me-3" style="background: linear-gradient(135deg, ${lang.family === '–†—É—Å—Å–∫–∏–π' ? '#D52B1E' : '#0039A6'}, ${lang.color})">
                                    ${lang.name.substring(0, 2)}
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="mb-1">${lang.name}</h5>
                                    <p class="text-muted mb-2"><em>${lang.nativeName}</em></p>
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span class="badge" style="background: ${lang.color}; color: white;">${lang.family}</span>
                                        <small class="text-muted">üë• ${lang.speakers}</small>
                                    </div>
                                    <div class="row">
                                        <div class="col-6">
                                            <small><i class="bi bi-geo-alt"></i> ${lang.region}</small>
                                        </div>
                                        <div class="col-6 text-end">
                                            <small><i class="bi bi-journal-text"></i> ${lang.lessons} —É—Ä–æ–∫–æ–≤</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary w-100 mt-2" onclick="startLanguage('${lang.id}')">
                                ${lang.recommended ? '<i class="bi bi-star-fill me-2"></i>' : ''}
                                –ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(col);
            });
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —è–∑—ã–∫–æ–≤
        function filterLanguages() {
            const filter = document.getElementById('familyFilter').value;
            const search = document.getElementById('searchInput').value;
            loadLanguages(filter, search);
        }

        // –ü–æ–∏—Å–∫ —è–∑—ã–∫–æ–≤
        document.getElementById('searchInput')?.addEventListener('input', function() {
            const filter = document.getElementById('familyFilter').value;
            loadLanguages(filter, this.value);
        });

        // –í—ã–±–æ—Ä —è–∑—ã–∫–∞
        function selectLanguage(langId) {
            const lang = languages.find(l => l.id === langId);
            alert(`–í—ã–±—Ä–∞–Ω —è–∑—ã–∫: ${lang.name}`);
        }

        // –ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ —è–∑—ã–∫–∞
        function startLanguage(langId) {
            const lang = languages.find(l => l.id === langId);
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —É—Ä–æ–∫–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
            let lessons;
            if (langId === 'russian') {
                lessons = russianLessons;
            } else if (langId === 'tatar') {
                lessons = tatarLessons;
            } else {
                lessons = [tatarLessons[0]]; // –î–ª—è –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤—ã–π —É—Ä–æ–∫
            }
            
            // –ù–∞—á–∏–Ω–∞–µ–º –ø–µ—Ä–≤—ã–π —É—Ä–æ–∫
            startLesson(langId, lessons[0]);
        }

        // –ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
        function startLearningRussian() {
            startLanguage('russian');
        }

        // –ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
        function startLearningTatar() {
            startLanguage('tatar');
        }

        // –ù–∞—á–∞—Ç—å —É—Ä–æ–∫
        function startLesson(langId, lesson) {
            appData.currentLesson = lesson;
            appData.currentStep = 0;
            appData.lessonAnswers = [];
            appData.lessonScore = 0;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            const lang = languages.find(l => l.id === langId);
            document.getElementById('current-language-title').textContent = lang.name;
            document.getElementById('current-lesson-title').textContent = lesson.title;
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω –æ–±—É—á–µ–Ω–∏—è
            switchScreen('learn');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤—ã–π —à–∞–≥
            loadStep(0);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–≥–∞ —É—Ä–æ–∫–∞
        function loadStep(stepIndex) {
            const container = document.getElementById('lesson-container');
            const lesson = appData.currentLesson;
            const step = lesson.steps[stepIndex];
            
            container.innerHTML = '';
            container.className = 'lesson-step fade-in';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            const progress = ((stepIndex + 1) / lesson.steps.length) * 100;
            document.getElementById('lesson-progress').style.width = `${progress}%`;
            document.getElementById('lesson-progress-text').textContent = `–®–∞–≥ ${stepIndex + 1}/${lesson.steps.length}`;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —à–∞–≥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            switch(step.type) {
                case 'instruction':
                    container.innerHTML = `
                        <h5 class="mb-3"><i class="bi bi-info-circle me-2" style="color: var(--russian-blue);"></i>${step.title}</h5>
                        <p class="lead">${step.content}</p>
                        <div class="text-center mt-4">
                            <i class="bi bi-lightbulb fs-1" style="color: var(--accent-orange);"></i>
                        </div>
                    `;
                    break;
                    
                case 'vocabulary':
                    let wordsHtml = '';
                    step.words.forEach(word => {
                        wordsHtml += `
                            <div class="d-flex justify-content-between align-items-center p-3 mb-2" style="background: white; border-radius: 8px;">
                                <div>
                                    <strong>${word.russian}</strong>
                                    <div class="text-muted">${word.translation || word.tatar}</div>
                                </div>
                                <i class="bi bi-volume-up" style="cursor: pointer;" onclick="playWord('${word.russian}')"></i>
                            </div>
                        `;
                    });
                    
                    container.innerHTML = `
                        <h5 class="mb-3"><i class="bi bi-journal-text me-2" style="color: var(--russian-blue);"></i>${step.title}</h5>
                        <p class="mb-4">${step.content}</p>
                        ${wordsHtml}
                        <div class="mt-4">
                            <button class="btn btn-outline-russian" onclick="practiceWords()">
                                <i class="bi bi-arrow-repeat"></i> –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–ª–æ–≤–∞
                            </button>
                        </div>
                    `;
                    break;
                    
                case 'exercise':
                    let optionsHtml = '';
                    step.options.forEach((option, index) => {
                        optionsHtml += `
                            <div class="exercise-option" onclick="selectAnswer(${index}, ${step.correct})">
                                ${option}
                            </div>
                        `;
                    });
                    
                    container.innerHTML = `
                        <h5 class="mb-3"><i class="bi bi-question-circle me-2" style="color: var(--russian-blue);"></i>${step.title}</h5>
                        <p class="lead mb-4">${step.question}</p>
                        ${optionsHtml}
                    `;
                    break;
                    
                case 'conversation':
                    let dialogHtml = '';
                    step.dialog.forEach(line => {
                        dialogHtml += `
                            <div class="mb-3 p-3" style="background: ${line.speaker === 'A' ? '#f8f9fa' : 'white'}; border-radius: 10px;">
                                <strong>${line.speaker}:</strong> ${line.text}
                            </div>
                        `;
                    });
                    
                    container.innerHTML = `
                        <h5 class="mb-3"><i class="bi bi-chat-dots me-2" style="color: var(--russian-blue);"></i>${step.title}</h5>
                        <p class="mb-4">${step.content}</p>
                        ${dialogHtml}
                        <div class="mt-4">
                            <button class="btn btn-primary" onclick="practiceConversation()">
                                <i class="bi bi-mic"></i> –ü—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è
                            </button>
                        </div>
                    `;
                    break;
                    
                case 'completion':
                    container.innerHTML = `
                        <div class="text-center">
                            <i class="bi bi-check-circle fs-1 mb-3" style="color: var(--accent-green);"></i>
                            <h5 class="mb-3">${step.title}</h5>
                            <p class="lead mb-4">${step.content}</p>
                            <div class="p-3 mb-3" style="background: rgba(88, 204, 2, 0.1); border-radius: 10px;">
                                <i class="bi bi-lightning me-2"></i>
                                <strong>–í—ã –∏–∑—É—á–∏–ª–∏ –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ —Ñ—Ä–∞–∑—ã!</strong>
                            </div>
                        </div>
                    `;
                    break;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é
            document.getElementById('lesson-navigation').style.display = 'block';
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const completeBtn = document.getElementById('complete-btn');
            
            prevBtn.style.display = stepIndex > 0 ? 'inline-block' : 'none';
            
            if (stepIndex === lesson.steps.length - 1) {
                nextBtn.style.display = 'none';
                completeBtn.style.display = 'inline-block';
            } else {
                nextBtn.style.display = 'inline-block';
                completeBtn.style.display = 'none';
            }
        }

        // –í—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞ –≤ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–∏
        function selectAnswer(selectedIndex, correctIndex) {
            const options = document.querySelectorAll('.exercise-option');
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç–∏–ª–∏
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'wrong');
            });
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–æ–≤—ã–µ —Å—Ç–∏–ª–∏
            const selectedOption = options[selectedIndex];
            selectedOption.classList.add('selected');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç
            if (selectedIndex === correctIndex) {
                selectedOption.classList.add('correct');
                appData.lessonScore++;
                showFeedback('–ü—Ä–∞–≤–∏–ª—å–Ω–æ!', 'success');
            } else {
                selectedOption.classList.add('wrong');
                options[correctIndex].classList.add('correct');
                showFeedback('–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑', 'error');
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç
            appData.lessonAnswers.push({
                step: appData.currentStep,
                selected: selectedIndex,
                correct: correctIndex,
                isCorrect: selectedIndex === correctIndex
            });
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
        function showFeedback(message, type) {
            const feedback = document.createElement('div');
            feedback.className = `alert alert-${type === 'success' ? 'success' : 'danger'} mt-3 fade-in`;
            feedback.innerHTML = `
                <i class="bi bi-${type === 'success' ? 'check-circle' : 'exclamation-circle'} me-2"></i>
                ${message}
            `;
            
            const container = document.getElementById('lesson-container');
            container.appendChild(feedback);
            
            // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                feedback.remove();
            }, 2000);
        }

        // –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥
        function nextStep() {
            if (appData.currentStep < appData.currentLesson.steps.length - 1) {
                appData.currentStep++;
                loadStep(appData.currentStep);
            }
        }

        // –ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥
        function previousStep() {
            if (appData.currentStep > 0) {
                appData.currentStep--;
                loadStep(appData.currentStep);
            }
        }

        // –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫
        function completeLesson() {
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const totalQuestions = appData.lessonAnswers.length;
            const correctAnswers = appData.lessonAnswers.filter(a => a.isCorrect).length;
            const score = totalQuestions > 0 ? Math.round((correctAnswers / totalQuestions) * 100) : 100;
            
            // –ù–∞—á–∏—Å–ª—è–µ–º XP
            const xpEarned = Math.round(score / 10) * 10;
            appData.currentUser.xp += xpEarned;
            appData.currentUser.lessons++;
            appData.currentUser.words += 5;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            updateUserInterface();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            showResults(score, correctAnswers, totalQuestions, xpEarned);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É—Ä–æ–∫–∞
        function showResults(score, correct, total, xp) {
            const modal = new bootstrap.Modal(document.getElementById('resultsModal'));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            document.getElementById('final-score').textContent = `${score}%`;
            document.getElementById('correct-answers').textContent = correct;
            document.getElementById('xp-earned').textContent = xp;
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            let message;
            if (score >= 90) message = '–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å!';
            else if (score >= 70) message = '–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!';
            else if (score >= 50) message = '–ù–µ–ø–ª–æ—Ö–æ, –Ω–æ –µ—Å—Ç—å –∫—É–¥–∞ —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è!';
            else message = '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–π—Ç–∏ —É—Ä–æ–∫ –µ—â–µ —Ä–∞–∑ –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.';
            
            document.getElementById('results-message').textContent = message;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            modal.show();
        }

        // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è —Å–ª–æ–≤–∞
        function playWord(word) {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–æ –±—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ
            alert(`–ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ —Å–ª–æ–≤–∞: ${word}`);
        }

        // –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–ª–æ–≤
        function practiceWords() {
            alert('–†–µ–∂–∏–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —Å–ª–æ–≤ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
        }

        // –ü—Ä–∞–∫—Ç–∏–∫–∞ –¥–∏–∞–ª–æ–≥–∞
        function practiceConversation() {
            alert('–†–µ–∂–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–Ω—Ç—ã –Ω–æ–≤–æ—Å—Ç–µ–π
        function loadNewsFeed() {
            const container = document.querySelector('#news-screen .card-body');
            const news = [
                {
                    id: 1,
                    user: '–ú–∞—Ä–∏—è –ö.',
                    avatar: '–ú–ö',
                    text: '–¢–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–≤–µ—Ä—à–∏–ª–∞ 10-–¥–Ω–µ–≤–Ω—É—é —Å–µ—Ä–∏—é –∏–∑—É—á–µ–Ω–∏—è –±–∞—à–∫–∏—Ä—Å–∫–æ–≥–æ —è–∑—ã–∫–∞! üéâ',
                    time: '2 –º–∏–Ω—É—Ç—ã –Ω–∞–∑–∞–¥',
                    likes: 24,
                    liked: false
                },
                {
                    id: 2,
                    user: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò.',
                    avatar: '–ê–ò',
                    text: '–í—ã—É—á–∏–ª 50 –Ω–æ–≤—ã—Ö —Å–ª–æ–≤ –Ω–∞ —á—É–≤–∞—à—Å–∫–æ–º —è–∑—ã–∫–µ –∑–∞ –Ω–µ–¥–µ–ª—é! –û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å! üìö',
                    time: '1 —á–∞—Å –Ω–∞–∑–∞–¥',
                    likes: 18,
                    liked: true
                },
                {
                    id: 3,
                    user: '–û–ª—å–≥–∞ –°.',
                    avatar: '–û–°',
                    text: '–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥: 45 –º–∏–Ω—É—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ —è–∫—É—Ç—Å–∫–æ–≥–æ —è–∑—ã–∫–∞! üí™',
                    time: '3 —á–∞—Å–∞ –Ω–∞–∑–∞–¥',
                    likes: 42,
                    liked: false
                },
                {
                    id: 4,
                    user: '–î–º–∏—Ç—Ä–∏–π –í.',
                    avatar: '–î–í',
                    text: '–î–æ—Å—Ç–∏–≥ 5-–≥–æ —É—Ä–æ–≤–Ω—è –≤ –∏–∑—É—á–µ–Ω–∏–∏ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ —è–∑—ã–∫–∞! –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üèÜ',
                    time: '5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥',
                    likes: 31,
                    liked: false
                }
            ];
            
            let html = '';
            news.forEach(item => {
                html += `
                    <div class="news-item">
                        <div class="d-flex">
                            <div class="news-avatar me-3">${item.avatar}</div>
                            <div class="flex-grow-1">
                                <h6 class="mb-1">${item.user}</h6>
                                <p class="mb-2">${item.text}</p>
                                <div class="d-flex justify-content-between">
                                    <small class="text-muted">${item.time}</small>
                                    <div>
                                        <i class="bi bi-heart news-like ${item.liked ? 'liked' : ''}" 
                                           onclick="toggleLike(this, ${item.id})"></i>
                                        <small class="ms-1">${item.likes}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // –õ–∞–π–∫ –≤ –ª–µ–Ω—Ç–µ
        function toggleLike(element, newsId) {
            element.classList.toggle('liked');
            const countElement = element.nextElementSibling;
            let count = parseInt(countElement.textContent);
            count = element.classList.contains('liked') ? count + 1 : count - 1;
            countElement.textContent = count;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —á–∞—Ç–∞
        function loadChat() {
            const container = document.querySelector('#chat-screen .card-body');
            const friends = [
                { name: '–ú–∞—Ä–∏—è –ö.', avatar: '–ú–ö', lastMessage: '–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ —É—Å–ø–µ—Ö–∏ —Å –±–∞—à–∫–∏—Ä—Å–∫–∏–º?', time: '2 –º–∏–Ω', unread: 1 },
                { name: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò.', avatar: '–ê–ò', lastMessage: '–ù–∞—à–µ–ª –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ—Å—É—Ä—Å –ø–æ —á—É–≤–∞—à—Å–∫–æ–º—É!', time: '1 —á', unread: 0 },
                { name: '–û–ª—å–≥–∞ –°.', avatar: '–û–°', lastMessage: '–ì–æ—Ç–æ–≤–∏–º—Å—è –∫ —è–∑—ã–∫–æ–≤–æ–º—É –º–∞—Ä–∞—Ñ–æ–Ω—É?', time: '3 —á', unread: 0 }
            ];
            
            let html = `
                <div class="mb-4">
                    <button class="btn btn-primary w-100" onclick="startNewChat()">
                        <i class="bi bi-plus-lg me-2"></i> –ù–æ–≤—ã–π —á–∞—Ç
                    </button>
                </div>
                <div class="friends-list">
            `;
            
            friends.forEach(friend => {
                html += `
                    <div class="friend-item d-flex align-items-center p-3 mb-2" 
                         style="cursor: pointer; border-radius: 10px; background: #f8f9fa;"
                         onclick="openChat('${friend.name}')">
                        <div class="news-avatar me-3">${friend.avatar}</div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">${friend.name}</h6>
                            <small class="text-muted">${friend.lastMessage}</small>
                        </div>
                        <div class="text-end">
                            <small class="text-muted d-block">${friend.time}</small>
                            ${friend.unread > 0 ? `<span class="badge bg-primary rounded-circle">${friend.unread}</span>` : ''}
                        </div>
                    </div>
                `;
            });
            
            html += `</div>`;
            container.innerHTML = html;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
        function loadProfile() {
            const container = document.getElementById('profile-screen');
            const user = appData.currentUser;
            
            container.innerHTML = `
                <div class="card mb-4">
                    <div class="card-body text-center">
                        <div class="avatar mx-auto mb-3" style="width: 100px; height: 100px; background: linear-gradient(135deg, var(--russian-white), var(--russian-blue), var(--russian-red));">${user.avatar}</div>
                        <h4 class="mb-2">${user.name}</h4>
                        <p class="text-muted mb-3">${user.bio}</p>
                        <div class="d-flex justify-content-center gap-2 mb-4">
                            <span class="badge bg-warning">
                                <i class="bi bi-trophy me-1"></i> –£—Ä–æ–≤–µ–Ω—å ${user.level}
                            </span>
                            <span class="badge bg-info">
                                <i class="bi bi-fire me-1"></i> ${user.streak} –¥–Ω–µ–π
                            </span>
                            <span class="badge bg-success">
                                <i class="bi bi-translate me-1"></i> ${user.languages} —è–∑—ã–∫–∞
                            </span>
                        </div>
                        <button class="btn btn-outline-russian" onclick="editProfile()">
                            <i class="bi bi-pencil me-2"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                        </button>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4 mb-3">
                                <div class="achievement-card text-center">
                                    <div class="achievement-badge badge-gold">
                                        <i class="bi bi-award"></i>
                                    </div>
                                    <h6 class="mt-2">–ü–µ—Ä–≤—ã–π —É—Ä–æ–∫</h6>
                                    <small class="text-muted">–ü–æ–ª—É—á–µ–Ω–æ</small>
                                </div>
                            </div>
                            <div class="col-4 mb-3">
                                <div class="achievement-card text-center">
                                    <div class="achievement-badge badge-silver">
                                        <i class="bi bi-lightning"></i>
                                    </div>
                                    <h6 class="mt-2">–ù–µ–¥–µ–ª—è —Å–∏–ª—ã</h6>
                                    <small class="text-muted">–ü–æ–ª—É—á–µ–Ω–æ</small>
                                </div>
                            </div>
                            <div class="col-4 mb-3">
                                <div class="achievement-card text-center">
                                    <div class="achievement-badge badge-russian">
                                        <i class="bi bi-flag"></i>
                                    </div>
                                    <h6 class="mt-2">–ü–∞—Ç—Ä–∏–æ—Ç</h6>
                                    <small class="text-muted">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // –ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç
        function startNewChat() {
            alert('–§—É–Ω–∫—Ü–∏—è "–ù–æ–≤—ã–π —á–∞—Ç" —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞!');
        }

        // –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç
        function openChat(friendName) {
            alert(`–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–∞—Ç —Å ${friendName}`);
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
        function editProfile() {
            const newName = prompt('–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:', appData.currentUser.name);
            if (newName) {
                appData.currentUser.name = newName;
                appData.currentUser.avatar = newName.split(' ').map(n => n[0]).join('').toUpperCase();
                loadProfile();
            }
        }

        // –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —É—Ä–æ–∫–∞
        function quickStartLesson() {
            const randomLang = languages[Math.floor(Math.random() * languages.length)];
            startLanguage(randomLang.id);
        }
    </script>
</body>
</html>